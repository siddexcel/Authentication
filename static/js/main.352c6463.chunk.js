(this.webpackJsonpauth=this.webpackJsonpauth||[]).push([[0],{36:function(e,t,n){},55:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(29),o=n.n(s),r=(n(36),n(14)),i=n(13),l=n.n(i),d=n(69),u=n(70),j=n(6),b=(n(55),n(2)),h=function(){var e=Object(j.f)(),t=a.a.useState(""),n=Object(r.a)(t,2),c=n[0],s=n[1];return Object(b.jsx)("div",{className:"login_form bg-white rounded shadow p-4",children:Object(b.jsxs)(d.a,{onSubmit:function(){l.a.post("https://aqueous-thicket-08050.herokuapp.com/api/send-otp",{email:c}).then((function(e){e&&e.data&&e.data.token&&localStorage.setItem("token",e.data.token)})),e.push("/verify")},children:[Object(b.jsxs)(d.a.Group,{controlId:"formBasicEmail",className:"m-3",children:[Object(b.jsx)(d.a.Label,{children:"Email address"}),Object(b.jsx)(d.a.Control,{type:"email",placeholder:"Enter email",value:c,onChange:function(e){s(e.target.value)},required:!0}),Object(b.jsx)(d.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(b.jsx)("div",{className:"d-flex justify-content-center",children:Object(b.jsx)(u.a,{type:"submit",className:"btn-warning rounded-pill",children:"Send OTP"})})]})})},f=function(){var e=Object(j.f)();return a.a.useEffect((function(){localStorage.getItem("token")&&e.push("/home")})),Object(b.jsx)("div",{className:"d-flex justify-content-center",children:Object(b.jsx)(h,{})})},m=(n(66),function(){var e=a.a.useState(""),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(j.f)(),o=a.a.useRef({});return Object(b.jsx)("div",{className:"verification_form bg-white rounded shadow p-4",children:Object(b.jsxs)(d.a,{onSubmit:function(e){!function(){var e=localStorage.getItem("token"),t={otp:n,token:e};l.a.post("https://aqueous-thicket-08050.herokuapp.com/api/verifyUser",t).then((function(e){o.current=e,e.data.success?s.push("/home"):e.data.success||(alert("Incorrect otp, Please try again."),s.push("/")),console.log(e)})),console.log(o)}(),e.preventDefault()},children:[Object(b.jsxs)(d.a.Group,{controlId:"formBasicEmail",className:"m-3",children:[Object(b.jsx)(d.a.Label,{children:"Enter the 6 digit code"}),Object(b.jsx)(d.a.Control,{type:"text",placeholder:"6 Digit Code",required:!0,value:n,onChange:function(e){return c(e.target.value)}}),Object(b.jsx)(d.a.Text,{className:"text-muted",children:"Please wait if the code has not arrived yet."})]}),Object(b.jsx)("div",{className:"d-flex justify-content-center",children:Object(b.jsx)(u.a,{type:"submit",className:"btn-warning rounded-pill",children:"Submit"})})]})})}),x=function(){var e=Object(j.f)();return Object(b.jsxs)("div",{children:[Object(b.jsxs)("button",{className:"btn btn-dark p-3 m-2 bg-dark rounded-circle shadow",onClick:function(){e.push("/")},children:[Object(b.jsx)("i",{className:"bi bi-arrow-left"})," "]}),Object(b.jsx)("div",{className:"d-flex justify-content-center",children:Object(b.jsx)(m,{})})]})},p=function(){var e=Object(j.f)(),t=a.a.useRef(localStorage.getItem("token"));a.a.useEffect((function(){t.current||n()}));var n=function(){e.push("/"),localStorage.removeItem("token")};return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"d-flex justify-content-end",children:Object(b.jsxs)("button",{className:"btn btn-dark p-3 m-2 bg-dark rounded-pill shadow",onClick:n,children:[Object(b.jsx)("i",{className:"bi bi-arrow-left"})," Logout "]})}),Object(b.jsx)("div",{className:"d-flex justify-content-center mt-4",children:Object(b.jsx)("h1",{className:"p-2 rounded shadow bg-success text-light",children:"Dashboard"})})]})},O=n(12),g=function(){return Object(b.jsx)(O.a,{children:Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{exact:!0,path:"/",component:f}),Object(b.jsx)(j.a,{exact:!0,path:"/verify",component:x}),Object(b.jsx)(j.a,{exact:!0,path:"/home",component:p})]})})};n(67);var v=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(g,{})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),s(e),o(e)}))};o.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(v,{})}),document.getElementById("root")),k()}},[[68,1,2]]]);
//# sourceMappingURL=main.352c6463.chunk.js.map